<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>Agent | Web API</title>
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
</head>


<body class="webapi">
	<div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">OnSIP:Developer</a>
      <ul class="nav">
        <li><a href="/" class="nav-overview">Overview</a></li>
        <li><a href="/WebAPI/" class="nav-webapi">Web API</a></li>
        <li><a href="/blog" class="nav-blog">Blog</a></li>
        <li><a href="/support">Support</a></li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->

	
	<div class="sub-nav">
		<h2><a href="/WebAPI/">Web API</a></h2>
		
		<ul>
      <li><a href="/guides/">Guides</a></li>
      <li><a href="/WebAPI/" class="active">Documentation</a></li>
		</ul>
	</div>
	
  <div id="wrapper">
  	<div class="content">
    	<h1 id="agent">Agent</h1>

<ul id="markdown-toc">
<li><a href="#agent-add-account">Agent Add Account</a></li>
</ul><h2 id="agent-add-account">Agent Add Account</h2>

<p>As an Agent, this requests creates a new account.  Immediate after the account is created, the OnSIP branded billing emails are sent to the email address.  </p>

<p>If you are adding an account that you want to host on your own custom domain, then you need to do an AgentAddAccount action followed by a <a href="../Organizations/#organization-migrate-domain">OrganizationMigrateDomain</a> action.</p>

<h3 id="authentication--authorization">Authentication &amp; Authorization</h3>

<table>
<thead><tr>
<th>Authentication</th>
      <th>Authorization</th>
    </tr></thead>
<tbody><tr>
<td><a href="../Authentication/#session-create">Authenticated Session</a></td>
      <td><a href="../#roles">Agent Admin</a></td>
    </tr></tbody>
</table><h3 id="request-parameters">Request Parameters</h3>

<table>
<thead><tr>
<th>Required Parameters</th>
      <th>Description</th>
    </tr></thead>
<tbody>
<tr>
<td><code>Action</code></td>
      <td>“AgentAddAccount”</td>
    </tr>
<tr>
<td><code>SessionId</code></td>
      <td>
<a href="../Authentication/#session-create">Authenticated Session</a> identifier.</td>
    </tr>
<tr>
<td><code>Username</code></td>
      <td>The portal username as well as the username portion of the hosted pbx user address.  This is used to generate the admin user’s AuthUsername.  It must be equal to the subdomain of Domain.</td>
    </tr>
<tr>
<td><code>Domain</code></td>
      <td>A fully qualified domain name.  It must be suffixed with onsip.com . It must be the full domain with Username as subdomain, i.e. if Username=dudeuser, then Domain=dudeuser.onsip.com</td>
    </tr>
<tr>
<td><code>Name</code></td>
      <td>A human readable name</td>
    </tr>
<tr>
<td><code>Company</code></td>
      <td>The name of the company of the account being created</td>
    </tr>
<tr>
<td><code>Address</code></td>
      <td>The contact address</td>
    </tr>
<tr>
<td><code>City</code></td>
      <td>The city parameter of the address</td>
    </tr>
<tr>
<td><code>State</code></td>
      <td>The state parameter of the address</td>
    </tr>
<tr>
<td><code>Zipcode</code></td>
      <td>The zipcode parameter of the address</td>
    </tr>
<tr>
<td><code>Phone</code></td>
      <td>The contact phone number.  No country codes or IDs are accepted.</td>
    </tr>
<tr>
<td><code>Email</code></td>
      <td>A valid email address.  This email will receive billing emails, feature/product change emails, used by support to address account-level bug reports.  The admin user created by this signup account will be assigned this email address.</td>
    </tr>
<tr>
<td><code>Password</code></td>
      <td>A user’s login password (the password used to login to the web portal).  Used to generate API sessions and log into the admin portal to make account wide changes.</td>
    </tr>
<tr>
<td><code>Productcode</code></td>
      <td>This should be “onSIP”.</td>
    </tr>
<tr>
<td><code>Creditcard</code></td>
      <td>This should be “false”</td>
    </tr>
</tbody>
</table><h3 id="examples">Examples</h3>

<p>Here is an example request.  For more information on how to make requests go to <a href="../#request-format">Request Format</a>.</p>

<pre><code>https://www.jnctn.com/restapi?Action=AgentAddAccount&amp;SessionId=dh2enh0v1m6u4radtmpz1gkpe5&amp;Name=Dude+Man&amp;Company=Dude+Man+Inc.&amp;Address=123+Dude+Street&amp;City=New+York&amp;State=NY&amp;Zipcode=10004&amp;Phone=212-213-1234&amp;Email=dude@onsip.com&amp;Username=dudeman91&amp;Domain=dudeman91.onsip.com&amp;Password=superpassword&amp;Productcode=onSIP&amp;Creditcard=false
</code></pre>
    </div>

		<div id="js-sidebar" class="sidebar-shell">
  <div class="js-toggle-list sidebar-module expandable">
    <ul>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/">Overview</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/#hierarchy/">Hierarchy</a></li>
          <li><a href="/WebAPI/#roles/">Roles</a></li>
          <li><a href="/WebAPI/#authentication/">Authentication</a></li>
          <li><a href="/WebAPI/#request-format/">Request Format</a></li>
          <li><a href="/WebAPI/#xml-response-format/">XML Response Format</a></li>
          <li><a href="/WebAPI/#json-response-format/">JSON Response Format</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Authentication/">Authentication</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Authentication/#session-create">Creating a Session</a></li>
          <li><a href="/WebAPI/Authentication/#session-destroy">Destroying a Sessions</a></li>
          <li><a href="/WebAPI/Authentication/#stateless-requests">Making Stateless Requests</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Accounts/">Accounts</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Accounts/#account-read">Account Read</a></li>
          <li><a href="/WebAPI/Accounts/#account-edit-contact">Account Edit Contact</a></li>
          <li><a href="/WebAPI/Accounts/#account-credit-add">Account Credit Add</a></li>
          <li><a href="/WebAPI/Accounts/#account-recharge">Account Recharge</a></li>
          <li><a href="/WebAPI/Accounts/#account-invoice-read">Account Invoice Read</a></li>
          <li><a href="/WebAPI/Accounts/#account-invoice-browse">Account Invoice Browse</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Agent/">Agent</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Agent/#agent-add-account">Agent Add Account</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Organizations/">Organizations</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Organizations/#organization-add">Organization Add</a></li>
          <li><a href="/WebAPI/Organizations/#organization-read">Organization Read</a></li>
          <li><a href="/WebAPI/Organizations/#organization-browse">Organization Browse</a></li>
          <li><a href="/WebAPI/Organizations/#organization-edit-contact">Organization Edit Contact</a></li>
          <li><a href="/WebAPI/Organizations/#organization-migrate-domain">Organization Migrate Domain</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Users/">Users</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Users/#user-add">User Add</a></li>
          <li><a href="/WebAPI/Users/#user-read">User Read</a></li>
          <li><a href="/WebAPI/Users/#user-browse">User Browse</a></li>
          <li><a href="/WebAPI/Users/#user-edit-contact">User Edit Contact</a></li>
          <li><a href="/WebAPI/Users/#user-reset-portal-password">User Reset Portal Password</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/User-Addresses/">User Addresses</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/User-Addresses/#user-address-add">User Address Add</a></li>
          <li><a href="/WebAPI/User-Addresses/#user-address-read">User Address Read</a></li>
          <li><a href="/WebAPI/User-Addresses/#user-address-browse">User Address Browse</a></li>
          <li><a href="/WebAPI/User-Addresses/#user-address-delete">User Address Delete</a></li>
          <li><a href="/WebAPI/User-Addresses/#user-address-edit">User Address Edit</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/User-Aliases/">User Aliases</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/User-Aliases/#user-alias-add">User Alias Add</a></li>
          <li><a href="/WebAPI/User-Aliases/#user-alias-read">User Alias Read</a></li>
          <li><a href="/WebAPI/User-Aliases/#user-alias-browse">User Alias Browse</a></li>
          <li><a href="/WebAPI/User-Aliases/#user-alias-delete">User Alias Delete</a></li>
          <li><a href="/WebAPI/User-Aliases/#user-alias-edit">User Alias Edit</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Phone-Numbers/">Phone Numbers</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Phone-Numbers/#npa-nxx-browse">NPA NXX Browse</a></li>
          <li><a href="/WebAPI/Phone-Numbers/#did-request">DID Request</a></li>
          <li><a href="/WebAPI/Phone-Numbers/#did-edit">DID Edit</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Call-Detail-Records/">Call Detail Records</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Call-Detail-Records/#cdr-browse">CDR Browse</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Voicemail/">Voicemail</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Voicemail/#voicemailbox-add">Voicemailbox Add</a></li>
          <li><a href="/WebAPI/Voicemail/#voicemailbox-read">Voicemailbox Read</a></li>
          <li><a href="/WebAPI/Voicemail/#voicemailbox-browse">Voicemailbox Browse</a></li>
          <li><a href="/WebAPI/Voicemail/#voicemailbox-delete">Voicemailbox Delete</a></li>
          <li><a href="/WebAPI/Voicemail/#voicemailbox-edit">Voicemailbox Edit</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Ring-Groups/">Ring Groups</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Ring-Groups/#group-address-add">Group Address Add</a></li>
          <li><a href="/WebAPI/Ring-Groups/#group-address-read">Group Address Read</a></li>
          <li><a href="/WebAPI/Ring-Groups/#group-address-browse">Group Address Browse</a></li>
          <li><a href="/WebAPI/Ring-Groups/#group-address-delete">Group Address Delete</a></li>
          <li><a href="/WebAPI/Ring-Groups/#group-address-edit">Group Address Edit</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3><a href="#" class="js-expand-btn collapsed arrow-btn"></a><a href="/WebAPI/Miscellaneous/">Miscellaneous</a></h3>
        <ul class="js-guides">
          <li><a href="/WebAPI/Miscellaneous/#noop">NoOp</a></li>
          <li><a href="/WebAPI/Miscellaneous/#echo">Echo</a></li>
        </ul>
      </li>
    </ul>
  </div> <!-- /sidebar-module -->
  <div class="sidebar-module notice">
    <p>This website is a <a href="https://onsip.com/onsip/developer.onsip.com" target="_blank">public OnSIP repository</a>. Please help us by forking the project and adding to it.</p>
  </div>
  <div class="sidebar-module api-status"><a href="https://status.onsip.com" class="unknown">API Status</a></div>
</div><!-- /sidebar-shell -->

  </div><!-- #wrapper -->
		
	<div id="footer" >
  <div class="lower_footer">
    <ul class="footer-cell">
      <li><a href="/terms-of-service">Terms</a></li>
      <li><a href="/privacy-policy">Privacy</a></li>
      <li><a href="/security">Security</a></li>
      <li><a href="/contact">Contact</a></li>				
    </ul>

    <span class="footer-cell">
      <a href="https://onsip.com" class="mega-icon mega-icon-invertocat"></a>
    </span>

    <ul class="footer-cell">
      <li><a href="/status">Status</a></li>
      <li><a href="/training">Training</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </div>
  
  <div class="wrapper">
    <p>Design &copy; <span class="js-year">2013</span> OnSIP, Inc. All rights reserved. Except where otherwise noted, content on this site is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons CC-BY license</a>.</p>
  </div>

</div><!-- /#footer -->

<script src="/shared/js/retina.js" type="text/javascript"></script>

</body>
</html>
